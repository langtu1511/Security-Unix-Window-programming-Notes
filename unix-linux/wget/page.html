<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>wget</title>
</head><body><br/>
<ul><li style="list-style-type: none"><span style="font-size: 14pt"><div style="text-align: center"><a href="http://www.thegeekstuff.com/2009/09/the-ultimate-wget-download-guide-with-15-awesome-examples/">The Ultimate Wget Download Guide With 15 Awesome Examples</a></div></span></li>
</ul>
<br/>
<br/>
wget utility is the best option to download files from internet. wget can pretty much handle all complex download situations including large file downloads, recursive downloads, non-interactive downloads, multiple file downloads etc.,<br/>
<br/>
In this article let us review how to use wget for various download scenarios using 15 awesome wget examples.<br/>
<br/>
<br/>
<span style="font-size: 12pt"><b>1. Download Single File with wget</b></span><br/>
<br/>
The following example downloads a single file from internet and stores in the current directory.<br/>
<ul><li style="list-style-type: none"><span style="color: #00007f"><tt>$ wget http://www.openss7.org/repos/tarballs/strx25-0.9.2.1.tar.bz2</tt></span></li>
</ul>
<br/>
While downloading it will show a progress bar with the following information:<br/>
<ul><li>%age of download completion (for e.g. 31% as shown below)</li>
<li>Total amount of bytes downloaded so far (for e.g. 1,213,592 bytes as shown below)</li>
<li>Current download speed (for e.g. 68.2K/s as shown below)</li>
<li>Remaining time to download (for e.g. eta 34 seconds as shown below)</li>
</ul>
<br/>
Download in progress:<br/>
<ul><span style="color: #00007f"><tt><li style="list-style-type: none">$ wget http://www.openss7.org/repos/tarballs/strx25-0.9.2.1.tar.bz2</li>
<li style="list-style-type: none">Saving to: `strx25-0.9.2.1.tar.bz2.1'</li>
</tt></span><li style="list-style-type: none"><span style="color: #00007f"><tt>31% [=================&gt; 1,213,592 &nbsp; 68.2K/s &nbsp;eta 34s</tt></span></li>
</ul>
<br/>
Download completed:<br/>
<ul><span style="color: #00007f"><tt><li style="list-style-type: none">$ wget http://www.openss7.org/repos/tarballs/strx25-0.9.2.1.tar.bz2</li>
<li style="list-style-type: none">Saving to: `strx25-0.9.2.1.tar.bz2'</li>
</tt></span><li style="list-style-type: none"><span style="color: #00007f"><tt>100%[======================&gt;] 3,852,374 &nbsp; 76.8K/s &nbsp; in 55s &nbsp; </tt></span></li>
<li style="list-style-type: none"><span style="color: #00007f"><tt>2009-09-25 11:15:30 (68.7 KB/s) - `strx25-0.9.2.1.tar.bz2' saved [3852374/3852374]</tt></span></li>
</ul>
<br/>
<b><span style="font-size: 12pt">2. Download and Store With a Different File name Using wget -O</span></b><br/>
<br/>
By default wget will pick the filename from the last word after last forward slash, which may not be appropriate always.<br/>
<br/>
<b>Wrong</b>: Following example will download and store the file with name: download_script.php?src_id=7701<br/>
<ul><li style="list-style-type: none"><span style="color: #00007f"><tt>$ wget http://www.vim.org/scripts/download_script.php?src_id=7701</tt></span></li>
</ul>
<br/>
Even though the downloaded file is in zip format, it will get stored in the file as shown below.<br/>
<ul><span style="color: #00007f"><span style="font-size: 10pt"><tt><li style="list-style-type: none">$ ls</li>
</tt></span></span><li style="list-style-type: none"><span style="color: #00007f"><span style="font-size: 10pt"><tt>download_script.php?src_id=7701</tt></span></span></li>
</ul>
<br/>
<b>Correct</b>: To correct this issue, we can specify the output file name using the -O option as:<br/>
<ul><li style="list-style-type: none"><span style="color: #00007f"><tt>$ wget -O taglist.zip http://www.vim.org/scripts/download_script.php?src_id=7701</tt></span></li>
</ul>
<br/>
<b><span style="font-size: 12pt">3. Specify Download Speed / Download Rate Using wget –limit-rate</span></b><br/>
<br/>
While executing the wget, by default it will try to occupy full possible bandwidth. This might not be acceptable when you are downloading huge files on production servers. So, to avoid that we can limit the download speed using the –limit-rate as shown below.<br/>
<br/>
In the following example, the download speed is limited to 200k<br/>
<ul><li style="list-style-type: none"><tt><span style="color: #00007f">$ wget --limit-rate=200k http://www.openss7.org/repos/tarballs/strx25-0.9.2.1.tar.bz2</span></tt></li>
</ul>
<br/>
<span style="font-size: 12pt"><b>4. Continue the Incomplete Download Using wget -c</b></span><br/>
<br/>
Restart a download which got stopped in the middle using wget -c option as shown below.<br/>
<ul><li style="list-style-type: none"><span style="color: #00007f"><tt>$ wget -c http://www.openss7.org/repos/tarballs/strx25-0.9.2.1.tar.bz2</tt></span></li>
</ul>
<br/>
This is very helpful when you have initiated a very big file download which got interrupted in the middle. Instead of starting the whole download again, you can start the download from where it got interrupted using option -c<br/>
<br/>
<b>Note</b>: If a download is stopped in middle, when you restart the download again without the option -c, wget will append .1 to the filename automatically as a file with the previous name already exist. If a file with .1 already exist, it will download the file with .2 at the end.<br/>
<br/>
<span style="font-size: 12pt"><b>5. Download in the Background Using wget -b</b></span><br/>
<br/>
For a huge download, put the download in background using wget option -b as shown below.<br/>
<ul><li style="list-style-type: none"><span style="color: #00007f"><tt>$ wget -b http://www.openss7.org/repos/tarballs/strx25-0.9.2.1.tar.bz2</tt></span></li>
<span style="color: #00007f"><tt><li style="list-style-type: none">Continuing in background, pid 1984.</li>
</tt></span><li style="list-style-type: none"><span style="color: #00007f"><tt>Output will be written to `wget-log'.</tt></span></li>
</ul>
<br/>
It will initiate the download and gives back the shell prompt to you. You can always check the status of the download using tail -f as shown below.<br/>
<ul><span style="color: #00007f"><tt><li style="list-style-type: none">$ tail -f wget-log</li>
<li style="list-style-type: none">Saving to: `strx25-0.9.2.1.tar.bz2.4'</li>
<li style="list-style-type: none"></li>
<li style="list-style-type: none">&nbsp; &nbsp; &nbsp;0K .......... .......... .......... .......... .......... &nbsp;1% 65.5K 57s</li>
<li style="list-style-type: none">&nbsp; &nbsp; 50K .......... .......... .......... .......... .......... &nbsp;2% 85.9K 49s</li>
<li style="list-style-type: none">&nbsp; &nbsp;100K .......... .......... .......... .......... .......... &nbsp;3% 83.3K 47s</li>
<li style="list-style-type: none">&nbsp; &nbsp;150K .......... .......... .......... .......... .......... &nbsp;5% 86.6K 45s</li>
<li style="list-style-type: none">&nbsp; &nbsp;200K .......... .......... .......... .......... .......... &nbsp;6% 33.9K 56s</li>
<li style="list-style-type: none">&nbsp; &nbsp;250K .......... .......... .......... .......... .......... &nbsp;7% &nbsp;182M 46s</li>
</tt></span><li style="list-style-type: none"><span style="color: #00007f"><tt>&nbsp; &nbsp;300K .......... .......... .......... .......... .......... &nbsp;9% 57.9K 47s</tt></span></li>
</ul>
<br/>
Also, make sure to review our previous multitail article on how to use tail command effectively to view multiple files.<br/>
<br/>
<span style="font-size: 12pt"><b>6. Mask User Agent and Display wget like Browser Using wget –user-agent</b></span><br/>
<br/>
Some websites can disallow you to download its page by identifying that the user agent is not a browser. So you can mask the user agent by using –user-agent options and show wget like a browser as shown below.<br/>
<ul><li style="list-style-type: none"><span style="color: #00007f"><tt>$ wget --user-agent="Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.3) Gecko/2008092416 Firefox/3.0.3" URL-TO-DOWNLOAD</tt></span></li>
</ul>
<br/>
<span style="font-size: 12pt"><b>7. Test Download URL Using wget –spider</b></span><br/>
<br/>
When you are going to do scheduled download, you should check whether download will happen fine or not at scheduled time. To do so, copy the line exactly from the schedule, and then add –spider option to check.<br/>
<ul><li style="list-style-type: none"><span style="color: #00007f"><tt>$ wget --spider DOWNLOAD-URL</tt></span></li>
</ul>
<br/>
If the URL given is correct, it will say<br/>
<ul><span style="color: #00007f"><tt><li style="list-style-type: none">$ wget --spider download-url</li>
<li style="list-style-type: none">Spider mode enabled. Check if remote file exists.</li>
<li style="list-style-type: none">HTTP request sent, awaiting response... 200 OK</li>
<li style="list-style-type: none">Length: unspecified [text/html]</li>
<li style="list-style-type: none">Remote file exists and could contain further links,</li>
</tt></span><li style="list-style-type: none"><span style="color: #00007f"><tt>but recursion is disabled -- not retrieving.</tt></span></li>
</ul>
<br/>
This ensures that the downloading will get success at the scheduled time. But when you had give a wrong URL, you will get the following error.<br/>
<ul><li style="list-style-type: none"><span style="color: #00007f"><tt>$ wget --spider download-url</tt></span></li>
<span style="color: #00007f"><tt><li style="list-style-type: none">Spider mode enabled. Check if remote file exists.</li>
<li style="list-style-type: none">HTTP request sent, awaiting response... 404 Not Found</li>
</tt></span><li style="list-style-type: none"><span style="color: #00007f"><tt>Remote file does not exist -- broken link!!!</tt></span></li>
</ul>
<br/>
You can use the spider option under following scenarios:<br/>
<ul><li>Check before scheduling a download.</li>
<li>Monitoring whether a website is available or not at certain intervals.</li>
<li>Check a list of pages from your bookmark, and find out which pages are still exists.</li>
</ul>
<br/>
<span style="font-size: 12pt"><b>8. Increase Total Number of Retry Attempts Using wget –tries</b></span><span style="font-size: 14pt"><br/>
</span><br/>
If the internet connection has problem, and if the download file is large there is a chance of failures in the download. By default wget retries 20 times to make the download successful.<br/>
<br/>
If needed, you can increase retry attempts using –tries option as shown below.<br/>
<ul><li style="list-style-type: none"><span style="color: #00007f"><tt>$ wget --tries=75 DOWNLOAD-URL</tt></span></li>
</ul>
<br/>
<span style="font-size: 12pt"><b>9. Download Multiple Files / URLs Using Wget -i</b></span><br/>
<br/>
First, store all the download files or URLs in a text file as:<br/>
<ul><span style="color: #00007f"><tt><li style="list-style-type: none">$ cat &gt; download-file-list.txt</li>
<li style="list-style-type: none">URL1</li>
<li style="list-style-type: none">URL2</li>
<li style="list-style-type: none">URL3</li>
</tt></span><li style="list-style-type: none"><span style="color: #00007f"><tt>URL4</tt></span></li>
</ul>
<br/>
Next, give the download-file-list.txt as argument to wget using -i option as shown below.<br/>
<ul><li style="list-style-type: none"><span style="color: #00007f"><tt>$ wget -i download-file-list.txt</tt></span></li>
</ul>
<br/>
10. Download a Full Website Using wget –mirror<br/>
<br/>
Following is the command line which you want to execute when you want to download a full website and made available for local viewing.<br/>
<ul><tt><span style="color: #00007f"><li style="list-style-type: none">$ wget --mirror -p --convert-links -P ./LOCAL-DIR WEBSITE-URL</li>
</span></tt><span style="color: #00007f"><li style="list-style-type: none"></li>
</span><li>–mirror : turn on options suitable for mirroring.</li>
<li>-p : download all files that are necessary to properly display a given HTML page.</li>
<li>–convert-links : after the download, convert the links in document for local viewing.</li>
<li>-P ./LOCAL-DIR : save all the files and directories to the specified directory.</li>
</ul>
<br/>
<span style="font-size: 12pt"><b>11. Reject Certain File Types while Downloading Using wget –reject</b></span><br/>
<br/>
You have found a website which is useful, but don’t want to download the images you can specify the following.<br/>
<ul><li style="list-style-type: none"><span style="color: #00007f"><tt>$ wget --reject=gif WEBSITE-TO-BE-DOWNLOADED</tt></span></li>
</ul>
<br/>
<span style="font-size: 12pt"><b>12. Log messages to a log file instead of stderr Using wget -o</b></span><br/>
<br/>
When you wanted the log to be redirected to a log file instead of the terminal.<br/>
<ul><li style="list-style-type: none"><span style="color: #00007f"><tt>$ wget -o download.log DOWNLOAD-URL</tt></span></li>
</ul>
<br/>
<b><span style="font-size: 12pt">13. Quit Downloading When it Exceeds Certain Size Using wget -Q</span></b><br/>
<br/>
When you want to stop download when it crosses 5 MB you can use the following wget command line.<br/>
<ul><li style="list-style-type: none"><span style="color: #00007f"><tt>$ wget -Q5m -i FILE-WHICH-HAS-URLS</tt></span></li>
</ul>
<br/>
<b>Note</b>: This quota will not get effect when you do a download a single URL. That is irrespective of the quota size everything will get downloaded when you specify a single file. This quota is applicable only for recursive downloads.<br/>
<br/>
<span style="font-size: 12pt"><b>14. Download Only Certain File Types Using wget -r -A</b></span><br/>
<br/>
You can use this under following situations:<br/>
<ul><li>Download all images from a website</li>
<li>Download all videos from a website</li>
<li>Download all PDF files from a website</li>
</ul>
<ul><span style="color: #00007f"><tt><li style="list-style-type: none">$ wget -r -A.pdf http://url-to-webpage-with-pdfs/</li>
</tt></span><li style="list-style-type: none"></li>
</ul>
<span style="font-size: 12pt"><b>15. FTP Download With wget</b></span><br/>
<br/>
You can use wget to perform FTP download as shown below.<br/>
<br/>
Anonymous FTP download using Wget<br/>
<ul><li style="list-style-type: none"><span style="color: #00007f"><span style="font-size: 10pt"><tt>$ wget ftp-url</tt></span></span></li>
</ul>
<br/>
FTP download using wget with username and password authentication.<br/>
<ul><li style="list-style-type: none"><span style="color: #00007f"><tt>$ wget --ftp-user=USERNAME --ftp-password=PASSWORD DOWNLOAD-URL</tt></span></li>
</ul>
<br/>
If you liked this article, please bookmark it with delicious or Stumble.<br/>
<br/>
<br/>
<b><span style="font-size: 12pt">16. Wget with https</span></b><br/>
<ul><tt><li style="list-style-type: none">--secure-protocol=protocol</li>
<li style="list-style-type: none">--no-check-certificate</li>
</tt><li style="list-style-type: none"><tt>--certificate=file</tt></li>
</ul>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
END</body></html>